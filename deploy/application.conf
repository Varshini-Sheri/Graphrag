# GraphRAG Configuration
# All values are hardcoded for easy deployment

ollama {
  endpoint = "http://localhost:11434"
  model = "llama3:instruct"
  temperature = 0.0
  timeoutMs = 120000
  maxRetries = 3
}

neo4j {
  uri = "neo4j+s://76aeed1c.databases.neo4j.io"
  user = "neo4j"
  password = "123"
  passEnv = "NEO4J_PASSWORD"
  maxConnectionPoolSize = 50
  connectionTimeout = 120000
}

index {
  source = "data/index/chunks.jsonl"
  format = "jsonl"
  s3 {
    enabled = false
    bucket = "graphrag-data"
    region = "us-east-1"
  }
}

flink {
  parallelism = 4
  checkpointInterval = 60000
  checkpointTimeout = 600000
  minPauseBetweenCheckpoints = 5000
}

relation {
  cooccur {
    window = 3
    minPmi = 0.5
  }
  
  llm {
    predicateSet = [
      "is_a",
      "part_of", 
      "causes",
      "synonym_of",
      "related_to"
    ]
    minConfidence = 0.65
    batchSize = 10
  }
}

concept {
  extraction {
    method = "heuristic"  # or "ner", "spacy"
    minLength = 3
    maxLength = 50
  }
}

neo4j-sink {
  batchSize = 200
  flushIntervalMs = 5000
  maxRetries = 8
  retryBackoffMs = 100
}

api {
  host = "0.0.0.0"
  port = 8080
  cors {
    enabled = true
    allowedOrigins = ["*"]
  }
}

logging {
  level = "INFO"
  pattern = "%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n"
}
